<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://sdk.cashfree.com/js/v3/cashfree.js"></script>
    <link rel="stylesheet" href="./output.css" />
    <title>Grok Pins</title>
  </head>

  <body class="bg-[#181818] text-gray-400 min-w-screen">
    <section id="home" class="min-h-screen p-28 text-center">
      <div class="tracking-tight font-bold text-7xl">
        <p>A browser extension</p>
        <p>
          to
          <span class="text-[#00FFD18A] font-extrabold">pin your chats</span> in
        </p>
        <p class="text-[#fbf5df] font-extrabold">Grok</p>
      </div>

      <div class="font-extralight mt-16 leading-loose">
        <p>Tired of searching your chats? You've hit the right place.</p>
        <p>All your <span class="text-[#00FFD18A]">favourite</span> chats.</p>
        <p>All in <span class="text-[#fbf5df]">one</span> place.</p>
      </div>

      <div class="mt-16">
        <a
          href="https://chromewebstore.google.com/detail/okcbgnlkendjhkjdheinochpclghemhe/preview?hl=en&authuser=0"
          target="_blank"
          class="bg-[#FFD900] m-auto text-gray-700 block w-44 py-3 rounded-full"
          >Add to browser</a
        >
      </div>

      <div class="mt-5">
        <a
          href="#user-data"
          class="text-gray-300 border m-auto font-extralight border-gray-400 block w-44 py-3 rounded-full"
          >Privacy Policy</a
        >
      </div>
    </section>

    <section id="user-data" class="min-h-screen p-28 relative">
      <div class="flex">
        <div class="flex-1 text-3xl">How is my data handled?</div>
        <div class="flex-1 font-light leading-relaxed">
          <p>
            We're very serious when it comes to user data. Your conversation
            within Grok is stored on your machine and never leaves your system.
          </p>
          <br />

          <p>
            We might collect uniquely generated user ID's (UUID's) in the near
            future for the purpose of our extended functionality, but in no way
            reveals a user's identity.
          </p>
          <br />

          <p>
            You can find more details about our privacy policy or contact us
            <a
              class="underline underline-offset-4"
              href="privacy-policy.html"
              target="_blank"
              >here</a
            >.
          </p>
        </div>
      </div>

      <div
        class="absolute bottom-40 left-1/2 -translate-x-1/2 flex flex-col items-center gap-4"
      >
        <p class="tracking-tight font-extralight text-3xl">
          Convinced to take it up a notch?
        </p>
        <a
          class="bg-[#FFD900] text-gray-700 text-center block w-44 py-3 rounded-full hover:cursor-pointer"
          onclick="initTxn()"
        >
          Upgrade for $x
        </a>
      </div>
    </section>

    <script>
      function initTxn() {
        const createOrderUrl = "http://localhost:8888/api/create-order";
        const requestPayload = {
          customer_details: {
            customer_id: "CUSTOMER_UNIQUE_ID_12345",
            customer_phone: "9876543210",
          },
          order_amount: 10.5,
          order_currency: "INR",
        };

        fetch(createOrderUrl, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(requestPayload),
        })
          .then((response) => {
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
          })
          .then((data) => {
            const cashfree = Cashfree({ mode: "sandbox" }); // "production" for live
            cashfree
              .checkout({
                paymentSessionId: data.payment_session_id,
                redirectTarget: "_blank", // Opens in new tab
              })
              .then(() => console.log("Payment initiated"));
          })
          .catch((error) => {
            console.error("Error:", error);
            sendResponse({ error: error.message });
          });
      }
    </script>
  </body>
</html>
